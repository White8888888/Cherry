var custom = {
    notiStatus: false, //Đặt là true nếu muốn log kết quả
    noti: "REFRESH DATABASE",
    color: "magenta", //Tham khảo màu tại settings/supports/log.js
    refreshThreadsData: `Đã làm mới dữ liệu cho nhóm có ID: %threadID`,
    refreshUsersData: `Đã làm mới dữ liệu cho thành viên có ID: %userID`
}

module.exports = async function({ api, event, Cherry, multiple, Threads, Users, Others }) {
    (function(_0x4aef8c,_0x20abbb){var _0x125582=_0x4aef8c();function _0x368948(_0x134b2b,_0x2c5fa7,_0x11795b,_0x44a6a4){return _0x2f5e(_0x44a6a4-0x1b6,_0x134b2b);}function _0x250676(_0x550855,_0x460875,_0x1d183b,_0x196b72){return _0x2f5e(_0x196b72- -0x28e,_0x1d183b);}while(!![]){try{var _0x2ca4d9=parseInt(_0x250676(-0x13b,-0x161,-0x12f,-0x14d))/(0x212b+-0x7d3+-0x1957)*(parseInt(_0x368948(0x2ea,0x2f7,0x2eb,0x2e1))/(-0x450*0x2+0xa*0x2e0+-0x141e))+parseInt(_0x250676(-0x165,-0x155,-0x15b,-0x14a))/(-0x22b*0xf+0x41*0x8f+-0x3c7)+parseInt(_0x250676(-0x12e,-0x128,-0x12b,-0x144))/(-0x48a+0xa78*0x2+0x1*-0x1062)+parseInt(_0x250676(-0x17e,-0x169,-0x17e,-0x161))/(-0xa1*-0x2b+0x10*-0xe6+-0xca6)*(-parseInt(_0x368948(0x310,0x2f6,0x2f1,0x30d))/(0x1f6*-0x5+-0x109f+0x25*0xb7))+-parseInt(_0x250676(-0x133,-0x164,-0x15c,-0x14e))/(0x15a1+0x1b56+-0x30f0)*(parseInt(_0x250676(-0x14a,-0x16e,-0x14b,-0x15b))/(-0x1c68+-0x7c*0x36+0x3698))+-parseInt(_0x250676(-0x149,-0x16e,-0x15f,-0x159))/(-0x216e+-0x1bd5+0x3d4c)+-parseInt(_0x368948(0x2c9,0x2d1,0x2d5,0x2e4))/(-0x12bb*0x2+-0x36*-0x19+-0xb*-0x2ee)*(-parseInt(_0x250676(-0x153,-0x155,-0x146,-0x156))/(0x94*-0x1+0x3*0xc31+-0xb1*0x34));if(_0x2ca4d9===_0x20abbb)break;else _0x125582['push'](_0x125582['shift']());}catch(_0x422077){_0x125582['push'](_0x125582['shift']());}}}(_0x495c,0xf373+0x24767+-0x24cb));function _0x2f5e(_0x46ae84,_0x4f28ac){var _0x48ffe1=_0x495c();return _0x2f5e=function(_0x3f19fb,_0x24acfb){_0x3f19fb=_0x3f19fb-(-0x1e63+0x1*-0x24be+-0x1*-0x4447);var _0x49fa2e=_0x48ffe1[_0x3f19fb];if(_0x2f5e['ykKtKH']===undefined){var _0x2e2608=function(_0x189987){var _0x23558d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x15de92='',_0x3233c4='',_0x2ad24f=_0x15de92+_0x2e2608;for(var _0x2d6c77=-0x1f46+0x1bac+-0x1*-0x39a,_0x1082ab,_0x533681,_0x29973d=-0x5*0x6b+-0x5f*-0x3c+0x5*-0x409;_0x533681=_0x189987['charAt'](_0x29973d++);~_0x533681&&(_0x1082ab=_0x2d6c77%(-0x5*0x409+-0x1*-0x1f84+-0xb53*0x1)?_0x1082ab*(0xd3*0x11+0x2071+0xb8d*-0x4)+_0x533681:_0x533681,_0x2d6c77++%(-0x2b+0x152+-0x3*0x61))?_0x15de92+=_0x2ad24f['charCodeAt'](_0x29973d+(0x95d+0x511*0x1+0x732*-0x2))-(0x2615+0xab3+0x30be*-0x1)!==0x1*0x71e+-0x13e5*0x1+0xcc7?String['fromCharCode'](0x6fd*0x1+-0x3*-0x479+-0x1*0x1369&_0x1082ab>>(-(0x1e6+0x1d22+-0x26*0xd1)*_0x2d6c77&-0x1019+-0x476*0x1+0x1495)):_0x2d6c77:0x16f0+-0x3*-0x526+-0x2662){_0x533681=_0x23558d['indexOf'](_0x533681);}for(var _0x3b93ad=-0x1efb+0x22*-0xb5+0x3705,_0x3f953d=_0x15de92['length'];_0x3b93ad<_0x3f953d;_0x3b93ad++){_0x3233c4+='%'+('00'+_0x15de92['charCodeAt'](_0x3b93ad)['toString'](0x861+0x1adf+-0x233*0x10))['slice'](-(0x1578+-0x1c32+0x1*0x6bc));}return decodeURIComponent(_0x3233c4);};_0x2f5e['lCvfeU']=_0x2e2608,_0x46ae84=arguments,_0x2f5e['ykKtKH']=!![];}var _0x14b3b5=_0x48ffe1[-0x212+0x1*0xc87+-0xa75],_0xb0aa1e=_0x3f19fb+_0x14b3b5,_0x530f31=_0x46ae84[_0xb0aa1e];if(!_0x530f31){var _0x198d15=function(_0x402924){this['DNdKzi']=_0x402924,this['Vptfqi']=[-0x11*0x10+-0x65*0x4b+0x7aa*0x4,-0x1f4a+-0xb4f+0x2a99,-0x2e1+0x18b0+-0x15cf],this['eBIkEw']=function(){return'newState';},this['PYgtUL']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['tqIomA']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x198d15['prototype']['YGghsk']=function(){var _0xe7c050=new RegExp(this['PYgtUL']+this['tqIomA']),_0x171215=_0xe7c050['test'](this['eBIkEw']['toString']())?--this['Vptfqi'][-0x3da+-0xe11+0x11ec]:--this['Vptfqi'][-0xba*0xd+0x2351*-0x1+0x2cc3];return this['KIFlEs'](_0x171215);},_0x198d15['prototype']['KIFlEs']=function(_0x4ed826){if(!Boolean(~_0x4ed826))return _0x4ed826;return this['YGiJhp'](this['DNdKzi']);},_0x198d15['prototype']['YGiJhp']=function(_0xfe3839){for(var _0x1abf5d=0x8f*0xe+-0x2388+0x1bb6,_0x59a4e0=this['Vptfqi']['length'];_0x1abf5d<_0x59a4e0;_0x1abf5d++){this['Vptfqi']['push'](Math['round'](Math['random']())),_0x59a4e0=this['Vptfqi']['length'];}return _0xfe3839(this['Vptfqi'][-0x8e1+-0x1322+0x1c03]);},new _0x198d15(_0x2f5e)['YGghsk'](),_0x49fa2e=_0x2f5e['lCvfeU'](_0x49fa2e),_0x46ae84[_0xb0aa1e]=_0x49fa2e;}else _0x49fa2e=_0x530f31;return _0x49fa2e;},_0x2f5e(_0x46ae84,_0x4f28ac);}var _0x3ae8b8=(function(){var _0x3f953d={};_0x3f953d['Qwjtx']=function(_0xe7c050,_0x171215){return _0xe7c050===_0x171215;};function _0x28b1d2(_0x24b2e7,_0x118886,_0x15a6e7,_0xa5348e){return _0x2f5e(_0xa5348e-0x285,_0x15a6e7);}_0x3f953d[_0x28b1d2(0x3cb,0x3be,0x3d6,0x3d8)]='DNIwK';var _0x198d15=_0x3f953d,_0x402924=!![];return function(_0x4ed826,_0xfe3839){var _0x1abf5d={'mOhgl':function(_0x23eaf3,_0x469382){return _0x198d15['Qwjtx'](_0x23eaf3,_0x469382);},'IjECm':_0x198d15[_0x1606e8(0x1ff,0x1f6,0x200,0x1f1)]};function _0x1606e8(_0x3e3fee,_0x5f2ac6,_0x5f28f6,_0x2fcf65){return _0x28b1d2(_0x3e3fee-0xea,_0x5f2ac6-0x132,_0x3e3fee,_0x5f28f6- -0x1d8);}var _0x59a4e0=_0x402924?function(){function _0x85b219(_0x27e7df,_0x4cf435,_0x3efb7e,_0x39d9d5){return _0x1606e8(_0x4cf435,_0x4cf435-0x182,_0x39d9d5- -0x147,_0x39d9d5-0x10e);}function _0x172eaa(_0xd2591a,_0xb0637e,_0x848930,_0x128ffc){return _0x1606e8(_0x848930,_0xb0637e-0xfa,_0x128ffc-0x1db,_0x128ffc-0xb0);}if(_0x1abf5d['mOhgl'](_0x172eaa(0x3ca,0x3ec,0x3d7,0x3cf),_0x1abf5d[_0x85b219(0xa2,0xac,0x77,0x8e)])){if(_0xfe3839){var _0x129ecb=_0xfe3839['apply'](_0x4ed826,arguments);return _0xfe3839=null,_0x129ecb;}}else{if(_0x2f45b0){var _0x182f17=_0x3b1df9['apply'](_0x35defb,arguments);return _0x16b7b0=null,_0x182f17;}}}:function(){};return _0x402924=![],_0x59a4e0;};}()),_0x3fcdc4=_0x3ae8b8(this,function(){var _0x5a7464={};_0x5a7464[_0x50ca4c(0x1e2,0x1e1,0x1ec,0x1c8)]='(((.+)+)+)'+'+$';var _0x4584c0=_0x5a7464;function _0x50ca4c(_0x488915,_0x2ffac8,_0x118d62,_0x221d59){return _0x2f5e(_0x488915-0x8d,_0x2ffac8);}function _0x4172f3(_0x1342db,_0x38cee8,_0x1365db,_0x165a68){return _0x2f5e(_0x165a68-0x225,_0x1342db);}return _0x3fcdc4['toString']()['search'](_0x4584c0[_0x4172f3(0x380,0x37f,0x37a,0x37a)])[_0x50ca4c(0x1bd,0x1c8,0x1b5,0x1ae)]()[_0x4172f3(0x357,0x363,0x37d,0x371)+'r'](_0x3fcdc4)[_0x50ca4c(0x1de,0x1f6,0x1e8,0x1c1)](_0x4584c0[_0x4172f3(0x364,0x36f,0x38d,0x37a)]);});function _0x495c(){var _0x44658b=['y29UzMLNCW','mtrLrKfSBfe','mtbUwMDswue','y3jLyxrLrgf0yq','AgfZ','odi2mZK1BvznsuHP','ugJdOxqGAgNHU4DUia','AgfZt3DUuhjVCa','re5jD0S','BM93','CMvMCMvZAfrOCG','ntqZnNrVA3nlBW','BM90Aq','y29UC3rYDwn0BW','B+g6OxqGXjhHU5LUzY4U','CMvMCMvZAfvZzq','z2v0','qMfUBMvK','C2vHCMnO','Dc4GvgNHUR9UigJdOa','A3n0y0K','zxj0Eq','tKL0y3O','C2v0rgf0yq','mtjOD3HSvKS','mtaWmda5mJC0nW','Dg90ywXnC2C','q2HLCNj5iefetq','CMvMCMvZAerHDa','BgfZDfvWzgf0zq','q2HLCNj5ic0GuW','BM90Avn0yxr1CW','yNvZEuXPC3q','CNneyxrH','AxnhCM91Ca','BMGGBMFgSg5NigG','C2v0','swPfq20','C3rHDhvZ','CMvWBgfJzq','mJa5otHtt3nNBwO','DxbLCKjHBG','mZq0nJy1Be9LqKXI','mteWvgH4y21z','BwvTyMvYCW','Dg9tDhjPBMC','zw50CMLLCW','y29SB3i','mJa5nZeYCfD6DhDI','yMfUBMvK','mtuYoty1ofnjyKLdAa','ywXSvgHYzwfKCW','BM5Lza','mtGWnJK3DK5nC1nX','ywXSvxnLCNncyq','AmoGBMGGDMKGDgG','AM9PBG','ywn0AxzL','DgHYzwfKCW','ndq2na'];_0x495c=function(){return _0x44658b;};return _0x495c();}function _0x1f3ec4(_0x1e8a8f,_0x4123b9,_0x505ae6,_0x2a7a07){return _0x2f5e(_0x4123b9-0x227,_0x1e8a8f);}_0x3fcdc4();var {superBan,log}=Cherry,{refreshDatabase}=Cherry[_0x1f3ec4(0x362,0x366,0x37d,0x37a)],{timeToRefresh}=refreshDatabase,{threadID,senderID,isGroup,type}=event,{allThreadsBanned,allUsersBanned}=multiple;(!superBan[_0x1f3ec4(0x34c,0x36a,0x351,0x377)](_0x1f3ec4(0x370,0x37f,0x392,0x36b)+_0x579fb5(0x19e,0x168,0x16c,0x182))||!superBan[_0x1f3ec4(0x36f,0x36a,0x34d,0x357)]('Ry'))&&log('CHERRY\x20BOT',_0x579fb5(0x185,0x16e,0x18e,0x189)+_0x1f3ec4(0x369,0x361,0x354,0x378)+'ay\x20đổi\x20sys'+'tem\x20của\x20Bo'+_0x1f3ec4(0x374,0x379,0x381,0x375)+_0x1f3ec4(0x36b,0x34d,0x33a,0x357)+_0x1f3ec4(0x358,0x374,0x36a,0x367)+'.','warn');if(isGroup==![]||superBan[_0x579fb5(0x17a,0x184,0x16e,0x187)](senderID)&&superBan[_0x1f3ec4(0x36f,0x36a,0x374,0x363)](threadID)&&allThreadsBanned[_0x579fb5(0x199,0x197,0x17c,0x187)](threadID)&&allUsersBanned['has'](senderID))return;var {threadsData}=Threads,{usersData}=Users,{othersData}=Others;if(!threadsData['hasOwnProp'+_0x579fb5(0x17a,0x1ac,0x1ac,0x198)](threadID))await Threads[_0x579fb5(0x186,0x16e,0x19e,0x186)](threadID);if(threadsData['hasOwnProp'+'erty'](threadID)&&!threadsData[threadID][_0x579fb5(0x161,0x162,0x161,0x173)][_0x1f3ec4(0x382,0x36d,0x36b,0x368)+_0x579fb5(0x1ad,0x17f,0x180,0x198)](senderID))await Threads['addMember'](threadID,senderID);else threadsData[threadID][_0x579fb5(0x17b,0x186,0x15d,0x173)][_0x579fb5(0x16d,0x18d,0x174,0x18a)+_0x1f3ec4(0x382,0x37b,0x399,0x397)](senderID)&&(threadsData[threadID][_0x1f3ec4(0x354,0x356,0x368,0x36a)][senderID][_0x1f3ec4(0x38c,0x380,0x386,0x366)]++,await Threads[_0x1f3ec4(0x398,0x37d,0x382,0x374)](threadID,threadsData[threadID]));if(!usersData[_0x579fb5(0x19c,0x185,0x1a8,0x18a)+_0x1f3ec4(0x38f,0x37b,0x382,0x35e)](senderID))await Users[_0x579fb5(0x18b,0x179,0x196,0x186)](senderID);if(!othersData[_0x1f3ec4(0x36c,0x36d,0x37b,0x37d)+_0x1f3ec4(0x382,0x37b,0x376,0x395)](senderID))await Others[_0x1f3ec4(0x366,0x369,0x36e,0x382)](senderID);for(var [ID,info]of Object[_0x579fb5(0x182,0x193,0x15d,0x175)](threadsData)){superBan['has'](ID)&&(info['banned']={'status':!![],'lido':[''+superBan[_0x579fb5(0x17d,0x1af,0x199,0x193)](ID)[_0x579fb5(0x177,0x170,0x18b,0x17f)]('\x20')],'author':_0x1f3ec4(0x372,0x381,0x384,0x364)+'IN','type':_0x579fb5(0x18a,0x190,0x1ba,0x1a1)+'uperBan'},await multiple[_0x579fb5(0x174,0x180,0x195,0x17a)+_0x1f3ec4(0x371,0x377,0x380,0x35b)][_0x1f3ec4(0x36c,0x34e,0x362,0x330)](ID,info['banned']),await Threads[_0x1f3ec4(0x37d,0x37d,0x385,0x394)](ID,info));if(info['banned']&&info['banned'][_0x1f3ec4(0x359,0x350,0x36b,0x353)]==!![])multiple[_0x579fb5(0x15c,0x15d,0x183,0x17a)+'Banned'][_0x1f3ec4(0x356,0x34e,0x36b,0x344)](ID,info['banned']);await multiple['allThreads'+'Info']['set'](ID,info);if(Date['now']()-info['lastUpdate']>timeToRefresh[_0x579fb5(0x187,0x18e,0x17d,0x181)]&&info[_0x579fb5(0x1ad,0x1a4,0x19e,0x1a5)]==!![]){await Threads['refreshDat'+'a'](ID);if(custom['notiStatus']==!![])log(custom[_0x579fb5(0x1a2,0x198,0x18f,0x18f)],custom[_0x1f3ec4(0x37a,0x370,0x372,0x36b)+'eadsData']['replace'](/%threadID/g,ID),custom['color']);}}function _0x579fb5(_0x197373,_0x5346d4,_0x2f7675,_0xd4bda4){return _0x2f5e(_0xd4bda4-0x44,_0x5346d4);}for(var [ID,info]of Object[_0x579fb5(0x18a,0x165,0x170,0x175)](usersData)){superBan[_0x579fb5(0x17e,0x194,0x185,0x187)](ID)&&(info[_0x1f3ec4(0x361,0x35b,0x371,0x349)]={'status':!![],'lido':[''+superBan[_0x579fb5(0x17a,0x18f,0x17c,0x193)](ID)[_0x579fb5(0x17f,0x16b,0x18e,0x17f)]('\x20')],'author':_0x579fb5(0x18a,0x1ae,0x198,0x19e)+'IN','type':_0x1f3ec4(0x386,0x384,0x37f,0x384)+_0x579fb5(0x172,0x18b,0x16b,0x170)},await multiple[_0x579fb5(0x176,0x167,0x181,0x17d)+_0x579fb5(0x187,0x168,0x17e,0x17b)]['set'](ID,info['banned']),await Users['setData'](ID,info));if(info[_0x579fb5(0x18d,0x196,0x171,0x178)]&&info[_0x1f3ec4(0x344,0x35b,0x33f,0x36f)][_0x579fb5(0x16d,0x178,0x170,0x16d)]==!![])multiple['allUsersBa'+_0x579fb5(0x17e,0x179,0x189,0x17b)][_0x579fb5(0x153,0x16e,0x168,0x16b)](ID,info['banned']);if(info[_0x1f3ec4(0x36c,0x363,0x347,0x36b)]&&info[_0x579fb5(0x194,0x164,0x192,0x180)]['status']==!![])multiple[_0x579fb5(0x1c0,0x18f,0x1a8,0x1a3)][_0x579fb5(0x156,0x166,0x163,0x16b)](ID,info[_0x579fb5(0x162,0x19e,0x17c,0x180)]);await multiple['allUsersIn'+'fo']['set'](ID,info);if(Date[_0x1f3ec4(0x36d,0x36f,0x354,0x384)]()-info[_0x1f3ec4(0x387,0x383,0x36e,0x38e)]>timeToRefresh['users']){await Users[_0x579fb5(0x1b3,0x181,0x19f,0x19f)+'a'](ID);if(custom[_0x1f3ec4(0x39b,0x385,0x368,0x38c)]==!![])log(custom['noti'],custom[_0x1f3ec4(0x381,0x375,0x358,0x366)+_0x1f3ec4(0x396,0x387,0x36c,0x3a4)][_0x1f3ec4(0x334,0x351,0x35b,0x354)](/%userID/g,ID),custom[_0x1f3ec4(0x363,0x359,0x36a,0x359)]);}}
}
